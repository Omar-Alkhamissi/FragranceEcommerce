import{r as L,d as O,z as v,c as E,g as w,o as h,G as P,U as b,h as C,V as m,w as y,D as _,W as k}from"./index-CV4FAOBx.js";import{s as q,i as D,l as H,m as N,n as M,o as Q}from"./focusout-D7ChthLl.js";function R(){const e=L(!O.value);return e.value===!1&&v(()=>{e.value=!0}),{isHydrated:e}}const S=typeof ResizeObserver<"u",T=S===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},j=E({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:r}){let t=null,o,i={width:-1,height:-1};function u(n){n===!0||e.debounce===0||e.debounce==="0"?a():t===null&&(t=setTimeout(a,e.debounce))}function a(){if(t!==null&&(clearTimeout(t),t=null),o){const{offsetWidth:n,offsetHeight:s}=o;(n!==i.width||s!==i.height)&&(i={width:n,height:s},r("resize",i))}}const{proxy:f}=w();if(f.trigger=u,S===!0){let n;const s=d=>{o=f.$el.parentNode,o?(n=new ResizeObserver(u),n.observe(o),a()):d!==!0&&b(()=>{s(!0)})};return v(()=>{s()}),h(()=>{t!==null&&clearTimeout(t),n!==void 0&&(n.disconnect!==void 0?n.disconnect():o&&n.unobserve(o))}),P}else{let n=function(){t!==null&&(clearTimeout(t),t=null),l!==void 0&&(l.removeEventListener!==void 0&&l.removeEventListener("resize",u,m.passive),l=void 0)},s=function(){n(),o?.contentDocument&&(l=o.contentDocument.defaultView,l.addEventListener("resize",u,m.passive),a())};const{isHydrated:d}=R();let l;return v(()=>{b(()=>{o=f.$el,o&&s()})}),h(n),()=>{if(d.value===!0)return C("object",{class:"q--avoid-card-border",style:T.style,tabindex:-1,type:"text/html",data:T.url,"aria-hidden":"true",onLoad:s})}}}}),{passive:x}=m,V=["both","horizontal","vertical"],U=E({name:"QScrollObserver",props:{axis:{type:String,validator:e=>V.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:q},emits:["scroll"],setup(e,{emit:r}){const t={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,i,u;y(()=>e.scrollTarget,()=>{n(),f()});function a(){o?.();const l=Math.max(0,H(i)),p=N(i),c={top:l-t.position.top,left:p-t.position.left};if(e.axis==="vertical"&&c.top===0||e.axis==="horizontal"&&c.left===0)return;const g=Math.abs(c.top)>=Math.abs(c.left)?c.top<0?"up":"down":c.left<0?"left":"right";t.position={top:l,left:p},t.directionChanged=t.direction!==g,t.delta=c,t.directionChanged===!0&&(t.direction=g,t.inflectionPoint=t.position),r("scroll",{...t})}function f(){i=D(u,e.scrollTarget),i.addEventListener("scroll",s,x),s(!0)}function n(){i!==void 0&&(i.removeEventListener("scroll",s,x),i=void 0)}function s(l){if(l===!0||e.debounce===0||e.debounce==="0")a();else if(o===null){const[p,c]=e.debounce?[setTimeout(a,e.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];o=()=>{c(p),o=null}}}const{proxy:d}=w();return y(()=>d.$q.lang.rtl,a),v(()=>{u=d.$el.parentNode,f()}),h(()=>{o?.(),n()}),Object.assign(d,{trigger:s,getPosition:()=>t}),P}});function z(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const r=parseInt(e,10);return isNaN(r)?0:r}const A=_({name:"close-popup",beforeMount(e,{value:r}){const t={depth:z(r),handler(o){t.depth!==0&&setTimeout(()=>{const i=M(e);i!==void 0&&Q(i,o,t.depth)})},handlerKey(o){k(o,13)===!0&&t.handler(o)}};e.__qclosepopup=t,e.addEventListener("click",t.handler),e.addEventListener("keyup",t.handlerKey)},updated(e,{value:r,oldValue:t}){r!==t&&(e.__qclosepopup.depth=z(r))},beforeUnmount(e){const r=e.__qclosepopup;e.removeEventListener("click",r.handler),e.removeEventListener("keyup",r.handlerKey),delete e.__qclosepopup}});export{A as C,j as Q,U as a};
