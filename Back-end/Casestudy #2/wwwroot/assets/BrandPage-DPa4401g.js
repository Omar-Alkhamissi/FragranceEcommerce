import{Q as pe}from"./QAvatar-CWIrJvyz.js";import{b as Y,Q as Ve,a as Re,f as Fe}from"./formatutils-CF825x0f.js";import{a as m,c as G,r as S,d as $e,z as He,h as y,T as Ne,w as Z,g as be,o as ve,A as K,B as $,C as Le,v as fe,D as Xe,E as W,F as ae,G as Ue,H as me,I as _e,J as le,K as Ye,L as We,M as Je,N as Ke,O as re,q as J,t as b,x as B,n as Ce,P as qe,s as z,y as I,Q as Ge,R as Ze,u as oe,S as et,f as tt}from"./index-CV4FAOBx.js";import{h as ye,c as at,v as ie,u as lt,d as rt,b as ot,Q as ne}from"./QBtn-BQ37nqm7.js";import{u as he,a as se,b as it,s as nt,c as st,d as ut,e as ct,f as dt,h as vt,i as ft,j as ue,k as we}from"./focusout-D7ChthLl.js";import{v as mt,d as Te,u as ht,p as Pe,e as gt,f as bt,g as yt,r as Oe,s as St,h as ge,a as zt,b as pt,c as Be}from"./QMenu-BgdUCQVy.js";import{Q as F}from"./QCardSection-BR4Er-4I.js";import{Q as _t}from"./QInput-BzlDdmau.js";import{Q as Ct}from"./QCard-usVoljUo.js";import{Q as qt}from"./QDialog-CjqX4FCW.js";import{u as wt,a as Tt}from"./focus-manager-BLyGvPrO.js";import{Q as xe,a as Pt,C as Ot}from"./ClosePopup-BomEC6PQ.js";import{f as Ee}from"./apiutil-pqB3iIqx.js";import{_ as Bt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-key-composition-5jWIOt8n.js";const xt={ratio:[String,Number]};function Et(e,t){return m(()=>{const u=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(u)!==!0&&u>0?{paddingBottom:`${100/u}%`}:null})}const kt=1.7778,At=G({name:"QImg",props:{...xt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:kt},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:u}){const n=S(e.initialRatio),l=Et(e,n),r=be(),{registerTimeout:o,removeTimeout:a}=he(),{registerTimeout:c,removeTimeout:d}=he(),p=m(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),w=m(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),h=[S(null),S(p.value)],g=S(0),C=S(!1),q=S(!1),D=m(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),Q=m(()=>({width:e.width,height:e.height})),H=m(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),X=m(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function U(){if(d(),e.loadingShowDelay===0){C.value=!0;return}c(()=>{C.value=!0},e.loadingShowDelay)}function _(){d(),C.value=!1}function N({target:v}){ie(r)===!1&&(a(),n.value=v.naturalHeight===0?.5:v.naturalWidth/v.naturalHeight,P(v,1))}function P(v,x){x===1e3||ie(r)===!0||(v.complete===!0?L(v):o(()=>{P(v,x+1)},50))}function L(v){ie(r)!==!0&&(g.value=g.value^1,h[g.value].value=null,_(),v.getAttribute("__qerror")!=="true"&&(q.value=!1),u("load",v.currentSrc||v.src))}function O(v){a(),_(),q.value=!0,h[g.value].value=w.value,h[g.value^1].value=p.value,u("error",v)}function k(v){const x=h[v].value,i={key:"img_"+v,class:H.value,style:X.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...x};return g.value===v?Object.assign(i,{class:i.class+"current",onLoad:N,onError:O}):i.class+="loaded",y("div",{class:"q-img__container absolute-full",key:"img"+v},y("img",i))}function j(){return C.value===!1?y("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ye(t[q.value===!0?"error":"default"])):y("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[y(at,{color:e.spinnerColor,size:e.spinnerSize})])}{let v=function(){Z(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,x=>{a(),q.value=!1,x===null?(_(),h[g.value^1].value=p.value):U(),h[g.value].value=x},{immediate:!0})};$e.value===!0?He(v):v()}return()=>{const v=[];return l.value!==null&&v.push(y("div",{key:"filler",style:l.value})),h[0].value!==null&&v.push(k(0)),h[1].value!==null&&v.push(k(1)),v.push(y(Ne,{name:"q-transition--fade"},j)),y("div",{key:"main",class:D.value,style:Q.value,role:"img","aria-label":e.alt},v)}}}),Mt=G({name:"QCardActions",props:{...lt,vertical:Boolean},setup(e,{slots:t}){const u=rt(e),n=m(()=>`q-card__actions ${u.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>y("div",{class:n.value},ye(t.default))}}),It=G({name:"QTooltip",inheritAttrs:!1,props:{...ht,...st,...se,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...se.transitionShow,default:"jump-down"},transitionHide:{...se.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Te},self:{type:String,default:"top middle",validator:Te},offset:{type:Array,default:()=>[14,14],validator:mt},scrollTarget:nt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...it],setup(e,{slots:t,emit:u,attrs:n}){let l,r;const o=be(),{proxy:{$q:a}}=o,c=S(null),d=S(!1),p=m(()=>Pe(e.anchor,a.lang.rtl)),w=m(()=>Pe(e.self,a.lang.rtl)),h=m(()=>e.persistent!==!0),{registerTick:g,removeTick:C}=ut(),{registerTimeout:q}=he(),{transitionProps:D,transitionStyle:Q}=ct(e),{localScrollTarget:H,changeScrollEvent:X,unconfigureScrollTarget:U}=gt(e,R),{anchorEl:_,canShow:N,anchorEvents:P}=bt({showing:d,configureAnchorEl:V}),{show:L,hide:O}=dt({showing:d,canShow:N,handleShow:x,handleHide:i,hideOnRouteChange:h,processOnMount:!0});Object.assign(P,{delayShow:E,delayHide:A});const{showPortal:k,hidePortal:j,renderPortal:v}=vt(o,c,je,"tooltip");if(a.platform.is.mobile===!0){const T={anchorEl:_,innerRef:c,onClickOutside(M){return O(M),M.target.classList.contains("q-dialog__backdrop")&&Le(M),!0}},te=m(()=>e.modelValue===null&&e.persistent!==!0&&d.value===!0);Z(te,M=>{(M===!0?yt:Oe)(T)}),ve(()=>{Oe(T)})}function x(T){k(),g(()=>{r=new MutationObserver(()=>f()),r.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),f(),R()}),l===void 0&&(l=Z(()=>a.screen.width+"|"+a.screen.height+"|"+e.self+"|"+e.anchor+"|"+a.lang.rtl,f)),q(()=>{k(!0),u("show",T)},e.transitionDuration)}function i(T){C(),j(),s(),q(()=>{j(!0),u("hide",T)},e.transitionDuration)}function s(){r!==void 0&&(r.disconnect(),r=void 0),l!==void 0&&(l(),l=void 0),U(),K(P,"tooltipTemp")}function f(){St({targetEl:c.value,offset:e.offset,anchorEl:_.value,anchorOrigin:p.value,selfOrigin:w.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function E(T){if(a.platform.is.mobile===!0){ge(),document.body.classList.add("non-selectable");const te=_.value,M=["touchmove","touchcancel","touchend","click"].map(ze=>[te,ze,"delayHide","passiveCapture"]);$(P,"tooltipTemp",M)}q(()=>{L(T)},e.delay)}function A(T){a.platform.is.mobile===!0&&(K(P,"tooltipTemp"),ge(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),q(()=>{O(T)},e.hideDelay)}function V(){if(e.noParentEvent===!0||_.value===null)return;const T=a.platform.is.mobile===!0?[[_.value,"touchstart","delayShow","passive"]]:[[_.value,"mouseenter","delayShow","passive"],[_.value,"mouseleave","delayHide","passive"]];$(P,"anchor",T)}function R(){if(_.value!==null||e.scrollTarget!==void 0){H.value=ft(_.value,e.scrollTarget);const T=e.noParentEvent===!0?f:O;X(H.value,T)}}function ee(){return d.value===!0?y("div",{...n,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,Q.value],role:"tooltip"},ye(t.default)):null}function je(){return y(Ne,D.value,ee)}return ve(s),Object.assign(o.proxy,{updatePosition:f}),v}}),Dt=G({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[y("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),y("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),fe(y("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),fe(y("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),Se={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Qt=Object.keys(Se);Se.all=!0;function ke(e){const t={};for(const u of Qt)e[u]===!0&&(t[u]=!0);return Object.keys(t).length===0?Se:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Ht=["INPUT","TEXTAREA"];function Ae(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Ht.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function ce(e,t,u){const n=me(e);let l,r=n.left-t.event.x,o=n.top-t.event.y,a=Math.abs(r),c=Math.abs(o);const d=t.direction;d.horizontal===!0&&d.vertical!==!0?l=r<0?"left":"right":d.horizontal!==!0&&d.vertical===!0?l=o<0?"up":"down":d.up===!0&&o<0?(l="up",a>c&&(d.left===!0&&r<0?l="left":d.right===!0&&r>0&&(l="right"))):d.down===!0&&o>0?(l="down",a>c&&(d.left===!0&&r<0?l="left":d.right===!0&&r>0&&(l="right"))):d.left===!0&&r<0?(l="left",a<c&&(d.up===!0&&o<0?l="up":d.down===!0&&o>0&&(l="down"))):d.right===!0&&r>0&&(l="right",a<c&&(d.up===!0&&o<0?l="up":d.down===!0&&o>0&&(l="down")));let p=!1;if(l===void 0&&u===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};l=t.event.lastDir,p=!0,l==="left"||l==="right"?(n.left-=r,a=0,r=0):(n.top-=o,c=0,o=0)}return{synthetic:p,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:n,direction:l,isFirst:t.event.isFirst,isFinal:u===!0,duration:Date.now()-t.event.time,distance:{x:a,y:c},offset:{x:r,y:o},delta:{x:n.left-t.event.lastX,y:n.top-t.event.lastY}}}}let Nt=0;const Me=Xe({name:"touch-pan",beforeMount(e,{value:t,modifiers:u}){if(u.mouse!==!0&&W.has.touch!==!0)return;function n(r,o){u.mouse===!0&&o===!0?Le(r):(u.stop===!0&&le(r),u.prevent===!0&&_e(r))}const l={uid:"qvtp_"+Nt++,handler:t,modifiers:u,direction:ke(u),noop:Ue,mouseStart(r){Ae(r,l)&&Ye(r)&&($(l,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),l.start(r,!0))},touchStart(r){if(Ae(r,l)){const o=r.target;$(l,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),l.start(r)}},start(r,o){if(W.is.firefox===!0&&ae(e,!0),l.lastEvt=r,o===!0||u.stop===!0){if(l.direction.all!==!0&&(o!==!0||l.modifiers.mouseAllDir!==!0&&l.modifiers.mousealldir!==!0)){const d=r.type.indexOf("mouse")!==-1?new MouseEvent(r.type,r):new TouchEvent(r.type,r);r.defaultPrevented===!0&&_e(d),r.cancelBubble===!0&&le(d),Object.assign(d,{qKeyEvent:r.qKeyEvent,qClickOutside:r.qClickOutside,qAnchorHandled:r.qAnchorHandled,qClonedBy:r.qClonedBy===void 0?[l.uid]:r.qClonedBy.concat(l.uid)}),l.initialEvent={target:r.target,event:d}}le(r)}const{left:a,top:c}=me(r);l.event={x:a,y:c,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:a,lastY:c}},move(r){if(l.event===void 0)return;const o=me(r),a=o.left-l.event.x,c=o.top-l.event.y;if(a===0&&c===0)return;l.lastEvt=r;const d=l.event.mouse===!0,p=()=>{n(r,d);let g;u.preserveCursor!==!0&&u.preservecursor!==!0&&(g=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),d===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ge(),l.styleCleanup=C=>{if(l.styleCleanup=void 0,g!==void 0&&(document.documentElement.style.cursor=g),document.body.classList.remove("non-selectable"),d===!0){const q=()=>{document.body.classList.remove("no-pointer-events--children")};C!==void 0?setTimeout(()=>{q(),C()},50):q()}else C!==void 0&&C()}};if(l.event.detected===!0){l.event.isFirst!==!0&&n(r,l.event.mouse);const{payload:g,synthetic:C}=ce(r,l,!1);g!==void 0&&(l.handler(g)===!1?l.end(r):(l.styleCleanup===void 0&&l.event.isFirst===!0&&p(),l.event.lastX=g.position.left,l.event.lastY=g.position.top,l.event.lastDir=C===!0?void 0:g.direction,l.event.isFirst=!1));return}if(l.direction.all===!0||d===!0&&(l.modifiers.mouseAllDir===!0||l.modifiers.mousealldir===!0)){p(),l.event.detected=!0,l.move(r);return}const w=Math.abs(a),h=Math.abs(c);w!==h&&(l.direction.horizontal===!0&&w>h||l.direction.vertical===!0&&w<h||l.direction.up===!0&&w<h&&c<0||l.direction.down===!0&&w<h&&c>0||l.direction.left===!0&&w>h&&a<0||l.direction.right===!0&&w>h&&a>0?(l.event.detected=!0,l.move(r)):l.end(r,!0))},end(r,o){if(l.event!==void 0){if(K(l,"temp"),W.is.firefox===!0&&ae(e,!1),o===!0)l.styleCleanup?.(),l.event.detected!==!0&&l.initialEvent!==void 0&&l.initialEvent.target.dispatchEvent(l.initialEvent.event);else if(l.event.detected===!0){l.event.isFirst===!0&&l.handler(ce(r===void 0?l.lastEvt:r,l).payload);const{payload:a}=ce(r===void 0?l.lastEvt:r,l,!0),c=()=>{l.handler(a)};l.styleCleanup!==void 0?l.styleCleanup(c):c()}l.event=void 0,l.initialEvent=void 0,l.lastEvt=void 0}}};if(e.__qtouchpan=l,u.mouse===!0){const r=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";$(l,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}W.has.touch===!0&&$(l,"main",[[e,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const u=e.__qtouchpan;u!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&u.end(),u.handler=t.value),u.direction=ke(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),K(t,"main"),K(t,"temp"),W.is.firefox===!0&&ae(e,!1),t.styleCleanup?.(),delete e.__qtouchpan)}}),Ie=["vertical","horizontal"],de={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},De={prevent:!0,mouse:!0,mouseAllDir:!0},Qe=e=>e>=250?50:Math.ceil(e/5),Lt=G({name:"QScrollArea",props:{...wt,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:t,emit:u}){const n=S(!1),l=S(!1),r=S(!1),o={vertical:S(0),horizontal:S(0)},a={vertical:{ref:S(null),position:S(0),size:S(0)},horizontal:{ref:S(null),position:S(0),size:S(0)}},{proxy:c}=be(),d=Tt(e,c.$q);let p=null,w;const h=S(null),g=m(()=>"q-scrollarea"+(d.value===!0?" q-scrollarea--dark":""));Object.assign(o,{verticalInner:m(()=>o.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:m(()=>o.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),a.vertical.percentage=m(()=>{const i=a.vertical.size.value-o.vertical.value;if(i<=0)return 0;const s=Y(a.vertical.position.value/i,0,1);return Math.round(s*1e4)/1e4}),a.vertical.thumbHidden=m(()=>(e.visible===null?r.value:e.visible)!==!0&&n.value===!1&&l.value===!1||a.vertical.size.value<=o.vertical.value+1),a.vertical.thumbStart=m(()=>e.verticalOffset[0]+a.vertical.percentage.value*(o.verticalInner.value-a.vertical.thumbSize.value)),a.vertical.thumbSize=m(()=>Math.round(Y(o.verticalInner.value*o.verticalInner.value/a.vertical.size.value,Qe(o.verticalInner.value),o.verticalInner.value))),a.vertical.style=m(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${a.vertical.thumbStart.value}px`,height:`${a.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),a.vertical.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.vertical.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),a.horizontal.percentage=m(()=>{const i=a.horizontal.size.value-o.horizontal.value;if(i<=0)return 0;const s=Y(Math.abs(a.horizontal.position.value)/i,0,1);return Math.round(s*1e4)/1e4}),a.horizontal.thumbHidden=m(()=>(e.visible===null?r.value:e.visible)!==!0&&n.value===!1&&l.value===!1||a.horizontal.size.value<=o.horizontal.value+1),a.horizontal.thumbStart=m(()=>e.horizontalOffset[0]+a.horizontal.percentage.value*(o.horizontalInner.value-a.horizontal.thumbSize.value)),a.horizontal.thumbSize=m(()=>Math.round(Y(o.horizontalInner.value*o.horizontalInner.value/a.horizontal.size.value,Qe(o.horizontalInner.value),o.horizontalInner.value))),a.horizontal.style=m(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[c.$q.lang.rtl===!0?"right":"left"]:`${a.horizontal.thumbStart.value}px`,width:`${a.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),a.horizontal.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.horizontal.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const C=m(()=>a.vertical.thumbHidden.value===!0&&a.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function q(){const i={};return Ie.forEach(s=>{const f=a[s];Object.assign(i,{[s+"Position"]:f.position.value,[s+"Percentage"]:f.percentage.value,[s+"Size"]:f.size.value,[s+"ContainerSize"]:o[s].value,[s+"ContainerInnerSize"]:o[s+"Inner"].value})}),i}const D=We(()=>{const i=q();i.ref=c,u("scroll",i)},0);function Q(i,s,f){if(Ie.includes(i)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(i==="vertical"?we:ue)(h.value,s,f)}function H({height:i,width:s}){let f=!1;o.vertical.value!==i&&(o.vertical.value=i,f=!0),o.horizontal.value!==s&&(o.horizontal.value=s,f=!0),f===!0&&P()}function X({position:i}){let s=!1;a.vertical.position.value!==i.top&&(a.vertical.position.value=i.top,s=!0),a.horizontal.position.value!==i.left&&(a.horizontal.position.value=i.left,s=!0),s===!0&&P()}function U({height:i,width:s}){a.horizontal.size.value!==s&&(a.horizontal.size.value=s,P()),a.vertical.size.value!==i&&(a.vertical.size.value=i,P())}function _(i,s){const f=a[s];if(i.isFirst===!0){if(f.thumbHidden.value===!0)return;w=f.position.value,l.value=!0}else if(l.value!==!0)return;i.isFinal===!0&&(l.value=!1);const E=de[s],A=(f.size.value-o[s].value)/(o[s+"Inner"].value-f.thumbSize.value),V=i.distance[E.dist],R=w+(i.direction===E.dir?1:-1)*V*A;L(R,s)}function N(i,s){const f=a[s];if(f.thumbHidden.value!==!0){const E=s==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],A=i[de[s].offset]-E,V=f.thumbStart.value-E;if(A<V||A>V+f.thumbSize.value){const R=A-f.thumbSize.value/2,ee=Y(R/(o[s+"Inner"].value-f.thumbSize.value),0,1);L(ee*Math.max(0,f.size.value-o[s].value),s)}f.ref.value!==null&&f.ref.value.dispatchEvent(new MouseEvent(i.type,i))}}function P(){n.value=!0,p!==null&&clearTimeout(p),p=setTimeout(()=>{p=null,n.value=!1},e.delay),e.onScroll!==void 0&&D()}function L(i,s){h.value[de[s].scroll]=i}let O=null;function k(){O!==null&&clearTimeout(O),O=setTimeout(()=>{O=null,r.value=!0},c.$q.platform.is.ios?50:0)}function j(){O!==null&&(clearTimeout(O),O=null),r.value=!1}let v=null;Z(()=>c.$q.lang.rtl,i=>{h.value!==null&&ue(h.value,Math.abs(a.horizontal.position.value)*(i===!0?-1:1))}),Je(()=>{v={top:a.vertical.position.value,left:a.horizontal.position.value}}),Ke(()=>{if(v===null)return;const i=h.value;i!==null&&(ue(i,v.left),we(i,v.top))}),ve(D.cancel),Object.assign(c,{getScrollTarget:()=>h.value,getScroll:q,getScrollPosition:()=>({top:a.vertical.position.value,left:a.horizontal.position.value}),getScrollPercentage:()=>({top:a.vertical.percentage.value,left:a.horizontal.percentage.value}),setScrollPosition:Q,setScrollPercentage(i,s,f){Q(i,s*(a[i].size.value-o[i].value)*(i==="horizontal"&&c.$q.lang.rtl===!0?-1:1),f)}});const x={scroll:a,thumbVertDir:[[Me,i=>{_(i,"vertical")},void 0,{vertical:!0,...De}]],thumbHorizDir:[[Me,i=>{_(i,"horizontal")},void 0,{horizontal:!0,...De}]],onVerticalMousedown(i){N(i,"vertical")},onHorizontalMousedown(i){N(i,"horizontal")}};return()=>y("div",{class:g.value,onMouseenter:k,onMouseleave:j},[y("div",{ref:h,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[y("div",{class:"q-scrollarea__content absolute",style:C.value},ot(t.default,[y(xe,{debounce:0,onResize:U})])),y(Pt,{axis:"both",onScroll:X})]),y(xe,{debounce:0,onResize:H}),y(Dt,{store:x,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),jt={setup(){const e=et(),t=tt({status:"",brands:[],selectedBrandId:"",selectedBrand:{},products:[],selectedProduct:{},itemSelected:!1,dialogStatus:"",cart:[],qty:0}),u=async()=>{t.status="Loading brands...";try{const a=await Ee("Brands");a.error?t.status=a.error:(t.brands=a,t.status=`Loaded ${t.brands.length} brands`)}catch(a){console.error(a),t.status=`Error: ${a.message}`}},n=async()=>{if(t.selectedBrand=t.brands.find(a=>a.id===t.selectedBrandId),!!t.selectedBrand){t.status=`Finding products for ${t.selectedBrand.name}...`;try{const a=await Ee(`Products/${t.selectedBrand.id}`);a.error?t.status=a.error:(t.products=a,t.status=`Loaded ${t.products.length} products for ${t.selectedBrand.name}`)}catch(a){console.error(a),t.status=`Error: ${a.message}`}}},l=a=>{t.selectedProduct=t.products.find(c=>c.id===a)||{},t.itemSelected=!0,t.dialogStatus="",t.cart=JSON.parse(sessionStorage.getItem("cart")||"[]")},r=()=>{const a=t.cart.findIndex(c=>c.id===t.selectedProduct.id);if(t.qty>0){const c={id:t.selectedProduct.id,qty:t.qty,item:t.selectedProduct};a===-1?t.cart.push(c):t.cart.splice(a,1,c),t.dialogStatus=`${t.qty} item(s) added`}else a!==-1&&(t.cart.splice(a,1),t.dialogStatus="item(s) removed");sessionStorage.setItem("cart",JSON.stringify(t.cart)),t.qty=0},o=()=>e.push("/cart");return He(u),{state:t,loadBrands:u,getProducts:n,selectProduct:l,addToCart:r,viewCart:o,formatCurrency:Fe}}},Vt={class:"text-center"},Rt={class:"status q-mt-md text-subtitle2 text-negative","text-color":"red"},Ft={key:1,class:"text-h6 text-bold text-center text-primary"},$t={class:"text-subtitle2 text-center"},Xt=["src"],Ut={class:"text-h6 text-center text-primary"},Yt={style:{"max-width":"260px","text-align":"left"}},Wt={class:"row justify-center items-start q-col-gutter-md q-mb-md"},Jt={class:"col-auto"},Kt={class:"column items-center"},Gt={class:"col-auto"};function Zt(e,t,u,n,l,r){return J(),re("div",Vt,[b(pe,{square:"",class:"q-mb-md logo-avatar"},{default:z(()=>t[3]||(t[3]=[B("img",{src:"/img/Spade.png"},null,-1)])),_:1,__:[3]}),t[6]||(t[6]=B("div",{class:"text-h2 q-mt-lg"},"Brands",-1)),B("div",Rt,I(n.state.status),1),n.state.brands.length>0?(J(),Ce(Ve,{key:0,class:"q-mt-lg q-ml-lg",style:{width:"50vw","margin-bottom":"4vh","background-color":"#fff"},"option-value":"id","option-label":"name",options:n.state.brands,label:"Select a Brand",modelValue:n.state.selectedBrandId,"onUpdate:modelValue":[t[0]||(t[0]=o=>n.state.selectedBrandId=o),n.getProducts],"emit-value":"","map-options":""},null,8,["options","modelValue","onUpdate:modelValue"])):qe("",!0),n.state.products.length>0?(J(),re("div",Ft,I(n.state.selectedBrand.name)+" PRODUCTS ",1)):qe("",!0),b(Lt,{style:{height:"55vh"}},{default:z(()=>[b(zt,{separator:"",bordered:"",class:"q-mx-md"},{default:z(()=>[(J(!0),re(Ge,null,Ze(n.state.products,o=>(J(),Ce(pt,{dense:"",clickable:"",key:o.id,onClick:a=>n.selectProduct(o.id)},{default:z(()=>[b(Be,{avatar:"",class:"thumb-wrapper"},{default:z(()=>[b(At,{src:`/img/${o.graphicName}`,class:"thumb",ratio:"1","spinner-color":"primary"},null,8,["src"])]),_:2},1024),b(Be,{class:"text-left"},{default:z(()=>[oe(I(o.productName),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),b(qt,{modelValue:n.state.itemSelected,"onUpdate:modelValue":t[2]||(t[2]=o=>n.state.itemSelected=o),"transition-show":"rotate","transition-hide":"rotate"},{default:z(()=>[b(Ct,{style:{"min-width":"400px","max-width":"90vw"}},{default:z(()=>[b(Mt,{align:"right"},{default:z(()=>[fe(b(ne,{flat:"",label:"X",color:"primary",class:"text-h5"},null,512),[[Ot]])]),_:1}),b(F,null,{default:z(()=>[B("div",$t,I(n.state.selectedProduct.productName),1)]),_:1}),b(F,{class:"row justify-center"},{default:z(()=>[b(pe,{size:"100px"},{default:z(()=>[B("img",{src:`/img/${n.state.selectedProduct.graphicName}`},null,8,Xt)]),_:1})]),_:1}),b(F,null,{default:z(()=>[B("div",Ut,I(n.formatCurrency(n.state.selectedProduct.msrp)),1)]),_:1}),b(F,{class:"text-center"},{default:z(()=>[b(Re,{icon:"info",color:"primary","text-color":"white"},{default:z(()=>[t[4]||(t[4]=oe(" Details ")),b(It,{"transition-show":"flip-right","transition-hide":"flip-left","text-color":"white"},{default:z(()=>[B("div",Yt,I(n.state.selectedProduct.description),1)]),_:1})]),_:1,__:[4]})]),_:1}),b(F,{class:"text-center"},{default:z(()=>[B("div",Wt,[B("div",Jt,[B("div",Kt,[b(_t,{modelValue:n.state.qty,"onUpdate:modelValue":t[1]||(t[1]=o=>n.state.qty=o),modelModifiers:{number:!0},type:"number",filled:"",dense:"",class:"qty-input","input-class":"text-center"},null,8,["modelValue"]),t[5]||(t[5]=B("div",{class:"text-caption text-grey-6 q-mt-xs"},"Qty",-1))])]),B("div",Gt,[b(ne,{class:"add-btn",color:"primary",label:"ADD TO CART",disable:n.state.qty<=0,onClick:n.addToCart,"no-caps":""},null,8,["disable","onClick"])])]),b(ne,{flat:"",label:"VIEW CART",onClick:n.viewCart,"no-caps":"",color:"primary"},null,8,["onClick"])]),_:1}),b(F,{class:"text-center text-positive"},{default:z(()=>[oe(I(n.state.dialogStatus),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])}const ha=Bt(jt,[["render",Zt],["__scopeId","data-v-ed326954"]]);export{ha as default};
