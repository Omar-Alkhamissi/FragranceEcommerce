import{u as l,a as i}from"./focus-manager-Brhgtz7I.js";import{c as p,g as m,a as h,h as f}from"./index-BXLh-dsi.js";import{h as g}from"./QBtn-BPegtp1I.js";const $=p({name:"QCard",props:{...l,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(r,{slots:e}){const{proxy:{$q:o}}=m(),a=i(r,o),t=h(()=>"q-card"+(a.value===!0?" q-card--dark q-dark":"")+(r.bordered===!0?" q-card--bordered":"")+(r.square===!0?" q-card--square no-border-radius":"")+(r.flat===!0?" q-card--flat no-shadow":""));return()=>f(r.tag,{class:t.value},g(e.default))}}),c="",u=r=>{const e=String(r).replace(/^\/+/,"");return e.toLowerCase().startsWith("api/")?`/${e}`:`/api/${e}`},q=async r=>{let e;const o=d(),a=`${c}${u(r)}`;console.log("GET ->",a);try{const t=await fetch(a,{method:"GET",headers:o});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const s=await t.text();e=s?JSON.parse(s):{error:"Empty response from server"}}catch(t){console.log(t),e={error:`Error has occurred: ${t.message}`}}return e},k=async(r,e)=>{let o;const a=d(),t=`${c}${u(r)}`;console.log("POST ->",t,e);try{const s=await fetch(t,{method:"POST",headers:a,body:JSON.stringify(e)});if(console.log("POST status ->",s.status),!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.text();o=n?JSON.parse(n):{error:"Empty response from server"}}catch(s){console.log(s),o={error:`Error has occurred: ${s.message}`}}return o},d=()=>{const r=new Headers;r.append("Content-Type","application/json");const e=sessionStorage.getItem("customer");if(e)try{const o=JSON.parse(e);o?.token&&r.append("Authorization","Bearer "+o.token)}catch{}return r};export{$ as Q,q as f,k as p};
