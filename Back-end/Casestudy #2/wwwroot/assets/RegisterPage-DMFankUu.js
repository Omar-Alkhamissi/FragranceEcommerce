import{Q as l}from"./QInput-Cc4Z8OYg.js";import{Q as o}from"./QBtn-CHXcyl-P.js";import{Q as f}from"./QForm-BpnZXmhH.js";import{Q as c,p as g}from"./apiutil-D8HAWs6d.js";import{O as V,q,x as m,t as a,y as R,s as d,Q as w,S as x,f as y}from"./index-DFsSz3xY.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-key-composition-DgtSb1yN.js";import"./focus-manager-8kG1G93H.js";const b={setup(){const i=x();let e=y({status:"",firstname:"",lastname:"",email:"",password:""});return{state:e,register:async()=>{e.status="registering with server";let s={firstname:e.firstname,lastname:e.lastname,email:e.email,password:e.password};try{let r=await g("customer/register",s);e.status=r.token,r.token==="customer registered"&&setTimeout(()=>{i.push("/login")},1200)}catch(r){e.status=r.message}},isRequired:s=>!!s||"field is required",isValidEmail:s=>/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/.test(s)||"Invalid email",resetFields:()=>{e.firstname="",e.lastname="",e.email="",e.password="",e.status=""}}}},F={class:"text-title2 text-center text-positive text-bold q-mt-sm"};function v(i,e,n,t,u,p){return q(),V(w,null,[e[4]||(e[4]=m("div",{class:"text-h4 text-center q-mt-md q-mb-md text-primary"},"Register",-1)),m("div",F,R(t.state.status),1),a(c,{class:"q-ma-md q-pa-md"},{default:d(()=>[a(f,{ref:"myForm",class:"q-gutter-md",greedy:"",onSubmit:t.register,onReset:t.resetFields},{default:d(()=>[a(l,{outlined:"",placeholder:"First Name",id:"firstname",modelValue:t.state.firstname,"onUpdate:modelValue":e[0]||(e[0]=s=>t.state.firstname=s),rules:[t.isRequired]},null,8,["modelValue","rules"]),a(l,{outlined:"",placeholder:"Last Name",id:"lastname",modelValue:t.state.lastname,"onUpdate:modelValue":e[1]||(e[1]=s=>t.state.lastname=s),rules:[t.isRequired]},null,8,["modelValue","rules"]),a(l,{outlined:"",placeholder:"Email",id:"email",modelValue:t.state.email,"onUpdate:modelValue":e[2]||(e[2]=s=>t.state.email=s),rules:[t.isRequired,t.isValidEmail]},null,8,["modelValue","rules"]),a(l,{outlined:"",placeholder:"Password",id:"password",modelValue:t.state.password,"onUpdate:modelValue":e[3]||(e[3]=s=>t.state.password=s),type:"password",rules:[t.isRequired]},null,8,["modelValue","rules"]),a(o,{label:"Register",type:"submit"}),a(o,{label:"Reset",type:"reset"})]),_:1},8,["onSubmit","onReset"])]),_:1})],64)}const S=Q(b,[["render",v]]);export{S as default};
